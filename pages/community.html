<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>커뮤니티 - 커피CMD</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/terminal.css">
    <style>
        /* 커뮤니티 페이지 전용 스타일 */
        .board-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .posts-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .post-item {
            padding: 8px;
            border: 1px solid #333;
            cursor: pointer;
            border-radius: 3px;
        }
        
        .post-item:hover {
            background-color: #031;
            border-color: #0f0;
        }
        
        .post-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
        }
        
        .post-title {
            font-weight: bold;
        }
        
        .post-category {
            color: cyan;
            margin-right: 5px;
        }
        
        .post-meta {
            color: #999;
            font-size: 12px;
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
        }
        
        .post-author {
            color: yellow;
        }
        
        .post-stats {
            display: flex;
            gap: 10px;
        }
        
        .tab-container {
            display: flex;
            margin-bottom: 15px;
        }
        
        .tab {
            padding: 5px 10px;
            cursor: pointer;
            border: 1px solid #0f0;
            border-bottom: none;
            margin-right: 5px;
            border-top-left-radius: 3px;
            border-top-right-radius: 3px;
        }
        
        .tab.active {
            background-color: #031;
            color: #0f0;
        }
        
        .tab-content {
            display: none;
            border: 1px solid #0f0;
            padding: 10px;
            margin-bottom: 15px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .board-item {
            flex: 1;
            min-width: 200px;
            border: 1px solid #333;
            padding: 10px;
            border-radius: 3px;
            cursor: pointer;
        }
        
        .board-item:hover {
            background-color: #031;
            border-color: #0f0;
        }
        
        .board-name {
            font-weight: bold;
            color: #0f0;
            margin-bottom: 5px;
        }
        
        .board-stats {
            display: flex;
            justify-content: space-between;
            color: #999;
            font-size: 12px;
            margin-top: 5px;
        }
        
        .review-item {
            padding: 10px;
            border: 1px solid #333;
            margin-bottom: 10px;
            border-radius: 3px;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .review-author {
            font-weight: bold;
            color: yellow;
        }
        
        .review-rating {
            color: #0f0;
        }
        
        .review-date {
            color: #999;
            font-size: 12px;
        }
        
        .review-content {
            margin: 5px 0;
        }
        
        .review-meta {
            display: flex;
            justify-content: space-between;
            color: #999;
            font-size: 12px;
            margin-top: 5px;
        }
        
        .search-bar {
            display: flex;
            margin-bottom: 15px;
            gap: 5px;
        }
        
        .search-input {
            flex: 1;
        }
    </style>
</head>
<body>
    <div class="terminal-screen">
        <div class="message system-message">커뮤니티 화면입니다. 관심사별 게시판과 Q&A를 확인하세요.</div>
        
        <div class="search-bar">
            <input type="text" class="form-input search-input" id="searchInput" placeholder="검색어를 입력하세요">
            <button class="command-button" id="searchButton">검색</button>
        </div>
        
        <div class="tab-container">
            <div class="tab active" data-tab="popular">인기 게시글</div>
            <div class="tab" data-tab="boards">게시판 목록</div>
            <div class="tab" data-tab="reviews">커피챗 후기</div>
            <div class="tab" data-tab="questions">Q&A</div>
        </div>
        
        <!-- 인기 게시글 탭 -->
        <div class="tab-content active" id="popular-tab">
            <div class="posts-container">
                <div class="post-item" data-id="post1">
                    <div class="post-header">
                        <div>
                            <span class="post-category">[개발자 게시판]</span>
                            <span class="post-title">React vs Vue - 2025년 어떤 것을 배워야 할까요?</span>
                        </div>
                    </div>
                    <div class="post-preview">프론트엔드 개발자로서 경력을 쌓고자 하는데, React와 Vue 중 어떤 것에 더 집중해야 할지 고민입니다. 현업에서의 수요와 미래 전망을 고려했을 때 어떤 선택이 좋을까요?</div>
                    <div class="post-meta">
                        <div>
                            <span class="post-author">김개발</span> | 오늘
                        </div>
                        <div class="post-stats">
                            <span>👁️ 128</span>
                            <span>💬 32</span>
                        </div>
                    </div>
                </div>
                
                <div class="post-item" data-id="post2">
                    <div class="post-header">
                        <div>
                            <span class="post-category">[커리어 상담]</span>
                            <span class="post-title">개발자에서 PM으로 전환, 어떤 준비가 필요할까요?</span>
                        </div>
                    </div>
                    <div class="post-preview">5년차 백엔드 개발자인데 PM 포지션으로 커리어 전환을 고민 중입니다. 어떤 준비가 필요한지, 개발 경험은 어떻게 활용할 수 있는지 조언 부탁드립니다.</div>
                    <div class="post-meta">
                        <div>
                            <span class="post-author">이창업</span> | 어제
                        </div>
                        <div class="post-stats">
                            <span>👁️ 98</span>
                            <span>💬 15</span>
                        </div>
                    </div>
                </div>
                
                <div class="post-item" data-id="post3">
                    <div class="post-header">
                        <div>
                            <span class="post-category">[디자인 게시판]</span>
                            <span class="post-title">2025 UX/UI 트렌드 모음.zip</span>
                        </div>
                    </div>
                    <div class="post-preview">최근 주목받고 있는 UX/UI 디자인 트렌드를 정리해봤습니다. 미니멀리즘의 귀환, 뉴모피즘의 진화, 3D 요소 활용 등 다양한 트렌드와 실제 적용 사례를 공유합니다.</div>
                    <div class="post-meta">
                        <div>
                            <span class="post-author">박디자이너</span> | 2일 전
                        </div>
                        <div class="post-stats">
                            <span>👁️ 203</span>
                            <span>💬 24</span>
                        </div>
                    </div>
                </div>
                
                <div class="post-item" data-id="post4">
                    <div class="post-header">
                        <div>
                            <span class="post-category">[마케팅 게시판]</span>
                            <span class="post-title">B2B SaaS 제품 마케팅 전략 공유</span>
                        </div>
                    </div>
                    <div class="post-preview">B2B SaaS 제품 마케팅 전략을 수립하고 실행했던 경험을 공유합니다. 리드 생성부터 전환까지 각 단계별 전략과 실제 성공/실패 사례를 통해 배운 인사이트를 정리했습니다.</div>
                    <div class="post-meta">
                        <div>
                            <span class="post-author">최마케터</span> | 3일 전
                        </div>
                        <div class="post-stats">
                            <span>👁️ 87</span>
                            <span>💬 19</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 게시판 목록 탭 -->
        <div class="tab-content" id="boards-tab">
            <div class="board-container">
                <div class="board-item" data-board="dev">
                    <div class="board-name">개발자 게시판</div>
                    <div>프로그래밍, 개발 환경, 기술 스택 등 개발 관련 주제</div>
                    <div class="board-stats">
                        <span>글 1,245</span>
                        <span>오늘 +12</span>
                    </div>
                </div>
                
                <div class="board-item" data-board="design">
                    <div class="board-name">디자인 게시판</div>
                    <div>UX/UI, 그래픽 디자인, 디자인 시스템 등 디자인 관련 주제</div>
                    <div class="board-stats">
                        <span>글 987</span>
                        <span>오늘 +8</span>
                    </div>
                </div>
                
                <div class="board-item" data-board="marketing">
                    <div class="board-name">마케팅 게시판</div>
                    <div>디지털 마케팅, 콘텐츠 제작, 브랜딩 등 마케팅 관련 주제</div>
                    <div class="board-stats">
                        <span>글 743</span>
                        <span>오늘 +5</span>
                    </div>
                </div>
                
                <div class="board-item" data-board="startup">
                    <div class="board-name">스타트업 게시판</div>
                    <div>창업, 투자, 성장 전략 등 스타트업 관련 주제</div>
                    <div class="board-stats">
                        <span>글 521</span>
                        <span>오늘 +3</span>
                    </div>
                </div>
            </div>
            
            <div class="board-container">
                <div class="board-item" data-board="career">
                    <div class="board-name">커리어 상담</div>
                    <div>이직, 면접, 경력 개발 등 커리어 관련 주제</div>
                    <div class="board-stats">
                        <span>글 1,102</span>
                        <span>오늘 +15</span>
                    </div>
                </div>
                
                <div class="board-item" data-board="freelance">
                    <div class="board-name">
                        <div class="board-name">프리랜서 게시판</div>
                    <div>프리랜서 활동, 계약, 클라이언트 관리 등 프리랜서 관련 주제</div>
                    <div class="board-stats">
                        <span>글 632</span>
                        <span>오늘 +4</span>
                    </div>
                </div>
                
                <div class="board-item" data-board="networking">
                    <div class="board-name">네트워킹</div>
                    <div>인맥 관리, 행사 정보, 모임 공지 등 네트워킹 관련 주제</div>
                    <div class="board-stats">
                        <span>글 421</span>
                        <span>오늘 +2</span>
                    </div>
                </div>
                
                <div class="board-item" data-board="free">
                    <div class="board-name">자유 게시판</div>
                    <div>일상, 잡담, 유머 등 자유로운 주제</div>
                    <div class="board-stats">
                        <span>글 3,256</span>
                        <span>오늘 +28</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 커피챗 후기 탭 -->
        <div class="tab-content" id="reviews-tab">
            <div class="posts-container">
                <div class="review-item">
                    <div class="review-header">
                        <div class="review-author">최마케터</div>
                        <div class="review-rating">★★★★★</div>
                    </div>
                    <div class="review-content">"박디자이너님과의 미팅으로 UX 디자인에 대한 인사이트를 많이 얻었습니다. 실무에서 직접 사용하시는 도구와 워크플로우를 자세히 설명해주셔서 큰 도움이 되었어요. 정말 감사합니다!"</div>
                    <div class="review-meta">
                        <div class="review-date">2025-02-25</div>
                        <div>👍 12</div>
                    </div>
                </div>
                
                <div class="review-item">
                    <div class="review-header">
                        <div class="review-author">이주니어</div>
                        <div class="review-rating">★★★★☆</div>
                    </div>
                    <div class="review-content">"김개발님 덕분에 React 프로젝트 구조에 대해 많이 배웠어요. 특히 상태 관리 패턴에 대한 조언이 실제 프로젝트에 바로 적용할 수 있어서 유익했습니다. 다음에 기회가 된다면 백엔드 아키텍처에 대해서도 더 이야기 나누고 싶어요."</div>
                    <div class="review-meta">
                        <div class="review-date">2025-02-23</div>
                        <div>👍 8</div>
                    </div>
                </div>
                
                <div class="review-item">
                    <div class="review-header">
                        <div class="review-author">김PM</div>
                        <div class="review-rating">★★★★★</div>
                    </div>
                    <div class="review-content">"이창업님과의 미팅은 스타트업 초기 단계에서 제품 전략을 어떻게 수립해야 하는지에 대해 많은 배움을 얻었습니다. 실제 성공/실패 사례를 바탕으로 한 조언이 매우 실질적이었습니다. 다른 분들에게도 적극 추천합니다!"</div>
                    <div class="review-meta">
                        <div class="review-date">2025-02-20</div>
                        <div>👍 15</div>
                    </div>
                </div>
                
                <div class="review-item">
                    <div class="review-header">
                        <div class="review-author">박풀스택</div>
                        <div class="review-rating">★★★☆☆</div>
                    </div>
                    <div class="review-content">"정UX님과 UX 리서치 방법론에 대해 이야기 나눴습니다. 개발자 관점에서 디자인 프로세스를 이해하는데 도움이 되었지만, 좀 더 구체적인 사례를 들어주셨으면 더 좋았을 것 같습니다. 그래도 기본적인 내용을 배울 수 있어 유익했습니다."</div>
                    <div class="review-meta">
                        <div class="review-date">2025-02-18</div>
                        <div>👍 5</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Q&A 탭 -->
        <div class="tab-content" id="questions-tab">
            <div class="posts-container">
                <div class="post-item" data-id="qa1">
                    <div class="post-header">
                        <div>
                            <span class="post-category">[질문]</span>
                            <span class="post-title">첫 커피챗 준비, 어떻게 해야 할까요?</span>
                        </div>
                    </div>
                    <div class="post-preview">처음으로 커피챗을 통해 현업 개발자분을 만나게 되었는데, 어떤 준비를 해야 할지 모르겠어요. 질문 리스트를 준비해야 할까요? 어떤 태도로 임해야 좋을까요?</div>
                    <div class="post-meta">
                        <div>
                            <span class="post-author">신입개발자</span> | 오늘
                        </div>
                        <div class="post-stats">
                            <span>👁️ 45</span>
                            <span>💬 7</span>
                        </div>
                    </div>
                </div>
                
                <div class="post-item" data-id="qa2">
                    <div class="post-header">
                        <div>
                            <span class="post-category">[질문]</span>
                            <span class="post-title">커피챗 이후 인맥 관리는 어떻게 하시나요?</span>
                        </div>
                    </div>
                    <div class="post-preview">유익한 커피챗 이후에 인맥을 어떻게 유지하고 관리하시는지 궁금합니다. 정기적으로 연락을 취하시나요? SNS로 가볍게 소통하시나요? 여러분의 인맥 관리 노하우를 공유해주세요.</div>
                    <div class="post-meta">
                        <div>
                            <span class="post-author">인맥고민러</span> | 어제
                        </div>
                        <div class="post-stats">
                            <span>👁️ 72</span>
                            <span>💬 12</span>
                        </div>
                    </div>
                </div>
                
                <div class="post-item" data-id="qa3">
                    <div class="post-header">
                        <div>
                            <span class="post-category">[답변 완료]</span>
                            <span class="post-title">커피챗에서 적절한 비용 분담은?</span>
                        </div>
                    </div>
                    <div class="post-preview">커피챗에서 비용은 어떻게 분담하는 것이 적절한가요? 조언을 구하는 입장이라면 제가 내는 것이 맞을까요, 아니면 더치페이가 좋을까요?</div>
                    <div class="post-meta">
                        <div>
                            <span class="post-author">예의주시</span> | 2일 전
                        </div>
                        <div class="post-stats">
                            <span>👁️ 153</span>
                            <span>💬 23</span>
                            <span style="color: #0f0;">✓ 해결됨</span>
                        </div>
                    </div>
                </div>
                
                <div class="post-item" data-id="qa4">
                    <div class="post-header">
                        <div>
                            <span class="post-category">[답변 완료]</span>
                            <span class="post-title">온라인 커피챗 vs 오프라인 커피챗</span>
                        </div>
                    </div>
                    <div class="post-preview">온라인과 오프라인 커피챗, 각각의 장단점이 무엇인가요? 어떤 상황에서 어떤 방식이 더 효과적인지 경험자분들의 의견이 궁금합니다.</div>
                    <div class="post-meta">
                        <div>
                            <span class="post-author">선택장애</span> | 3일 전
                        </div>
                        <div class="post-stats">
                            <span>👁️ 98</span>
                            <span>💬 18</span>
                            <span style="color: #0f0;">✓ 해결됨</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="input-line">
            <span class="prompt">커뮤니티></span>
            <input type="text" class="command-input" id="commandInput" placeholder="'글쓰기', '검색 [키워드]' 명령어를 사용하세요">
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const commandInput = document.getElementById('commandInput');
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.getElementById('searchButton');
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            const postItems = document.querySelectorAll('.post-item');
            const boardItems = document.querySelectorAll('.board-item');
            
            // 탭 전환 처리
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // 활성 탭 변경
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // 탭 내용 변경
                    tabContents.forEach(content => content.classList.remove('active'));
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                });
            });
            
            // 게시글 클릭 처리
            postItems.forEach(post => {
                post.addEventListener('click', function() {
                    const postId = this.getAttribute('data-id');
                    openPost(postId);
                });
            });
            
            // 게시판 클릭 처리
            boardItems.forEach(board => {
                board.addEventListener('click', function() {
                    const boardId = this.getAttribute('data-board');
                    openBoard(boardId);
                });
            });
            
            // 검색 버튼 처리
            searchButton.addEventListener('click', function() {
                const keyword = searchInput.value.trim();
                if (keyword) {
                    searchPosts(keyword);
                } else {
                    window.parent.postMessage({
                        action: 'notification',
                        text: '검색어를 입력해주세요.',
                        type: 'error'
                    }, '*');
                }
            });
            
            // 검색 입력창 엔터 처리
            searchInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    searchButton.click();
                }
            });
            
            // 명령어 입력 처리
            commandInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    processCommand(this.value);
                    this.value = '';
                }
            });
            
            // 게시글 열기
            function openPost(postId) {
                // 실제 구현에서는 API 호출을 통해 게시글 내용을 가져옴
                // 여기서는 간단한 시뮬레이션만 구현
                
                let postTitle, postAuthor, postContent, postCategory;
                
                switch (postId) {
                    case 'post1':
                        postTitle = 'React vs Vue - 2025년 어떤 것을 배워야 할까요?';
                        postAuthor = '김개발';
                        postCategory = '개발자 게시판';
                        postContent = `
                            프론트엔드 개발자로서 경력을 쌓고자 하는데, React와 Vue 중 어떤 것에 더 집중해야 할지 고민입니다.
                            
                            현재 React와 Vue 모두 기본적인 수준으로 사용해봤지만, 하나에 더 깊이 투자하고 싶습니다. 현업에서의 수요와 미래 전망을 고려했을 때 어떤 선택이 좋을까요?
                            
                            제가 알아본 바로는:
                            
                            - React는 시장 점유율이 더 높고 대기업에서 많이 사용
                            - Vue는 학습 곡선이 완만하고 소규모 팀에서 선호
                            - 둘 다 계속 발전하고 있으며 큰 커뮤니티 보유
                            
                            특히 스타트업 환경에서 일하고 싶은데, 이 경우에는 어떤 선택이 더 유리할까요? 경험자분들의 의견이 궁금합니다.
                        `;
                        break;
                        
                    case 'post2':
                        postTitle = '개발자에서 PM으로 전환, 어떤 준비가 필요할까요?';
                        postAuthor = '이창업';
                        postCategory = '커리어 상담';
                        postContent = `
                            5년차 백엔드 개발자인데 PM 포지션으로 커리어 전환을 고민 중입니다.
                            
                            개발 업무에도 만족하고 있지만, 제품 전체를 바라보고 방향성을 설정하는 일에 더 흥미를 느끼고 있습니다. 그래서 PM으로의 전환을 생각하고 있는데, 어떤 준비가 필요한지, 개발 경험은 어떻게 활용할 수 있는지 조언 부탁드립니다.
                            
                            현재 준비 중인 것들:
                            - 간단한 사이드 프로젝트에서 PM 역할 경험 쌓기
                            - SQL과 데이터 분석 스킬 강화
                            - 제품 관리 관련 도서 학습
                            
                            이 외에 추가로 필요한 준비나 PM으로 전환한 개발자분들의 경험담이 있으면 공유해주세요.
                        `;
                        break;
                        
                    case 'post3':
                        postTitle = '2025 UX/UI 트렌드 모음.zip';
                        postAuthor = '박디자이너';
                        postCategory = '디자인 게시판';
                        postContent = `
                            최근 주목받고 있는 UX/UI 디자인 트렌드를 정리해봤습니다.
                            
                            1. 미니멀리즘의 귀환: 불필요한 요소를 제거하고 핵심 기능에 집중하는 미니멀 디자인이 다시 주목받고 있습니다. 특히 모바일 환경에서 더욱 중요해지고 있습니다.
                            
                            2. 뉴모피즘(Neumorphism)의 진화: 소프트한 그림자와 입체감을 강조하는 뉴모피즘이 더 다양한 방식으로 적용되고 있습니다. 단, 접근성에 주의가 필요합니다.
                            
                            3. 3D 요소 활용: 평면적인 디자인에 깊이감을 더하는 3D 요소가 증가하고 있습니다. 특히 WebGL과 Three.js의 발전으로 웹에서의 활용도가 높아졌습니다.
                            
                            4. 다크 모드 최적화: 거의 모든 앱과 웹사이트가 다크 모드를 지원하게 되면서, 두 가지 모드에 모두 최적화된 디자인이 중요해졌습니다.
                            
                            5. 마이크로인터랙션: 작은 애니메이션과 인터랙션이 사용자 경험을 풍부하게 만들어주고 있습니다.
                            
                            각 트렌드의 실제 적용 사례와 구현 방법에 대해 더 알고 싶으신 분들은 댓글 남겨주세요! 추가 자료를 공유해드리겠습니다.
                        `;
                        break;
                        
                    case 'post4':
                        postTitle = 'B2B SaaS 제품 마케팅 전략 공유';
                        postAuthor = '최마케터';
                        postCategory = '마케팅 게시판';
                        postContent = `
                            B2B SaaS 제품 마케팅 전략을 수립하고 실행했던 경험을 공유합니다.
                            
                            1. 리드 생성 단계:
                            - SEO 최적화된 콘텐츠 마케팅
                            - 산업별 특화 웨비나 시리즈
                            - LinkedIn 타겟 광고
                            
                            2. 리드 육성 단계:
                            - 이메일 뉴스레터 시리즈
                            - 사례 연구 및 화이트페이퍼
                            - 제품 데모 및 무료 트라이얼
                            
                            3. 전환 단계:
                            - 맞춤형 제안 및 ROI 계산기
                            - 경쟁사 비교 자료
                            - 의사결정자 대상 1:1 컨설팅
                            
                            4. 고객 유지 및 확장:
                            - 성공 사례 공유
                            - 정기적인 사용 현황 리포트
                            - 업셀/크로스셀 기회 발굴
                            
                            이 전략을 통해 리드 생성 30% 증가, 전환율 15% 향상, 고객 이탈률 10% 감소 효과를 얻었습니다.
                            
                            실제 성공/실패 사례와 배운 인사이트도 공유드릴 수 있으니 질문 있으시면 댓글 남겨주세요!
                        `;
                        break;
                        
                    case 'qa1':
                    case 'qa2':
                    case 'qa3':
                    case 'qa4':
                        // Q&A 게시글도 유사하게 처리
                        postTitle = document.querySelector(`[data-id="${postId}"] .post-title`).textContent;
                        postAuthor = document.querySelector(`[data-id="${postId}"] .post-author`).textContent;
                        postCategory = 'Q&A';
                        postContent = document.querySelector(`[data-id="${postId}"] .post-preview`).textContent;
                        break;
                        
                    default:
                        postTitle = '게시글을 찾을 수 없습니다.';
                        postAuthor = '알 수 없음';
                        postCategory = '알 수 없음';
                        postContent = '요청하신 게시글을 찾을 수 없습니다.';
                }
                
                const postView = `
                    <div>
                        <div style="margin-bottom:15px;">
                            <span style="color:#0ff;font-size:14px;">[${postCategory}]</span>
                            <h3 style="color:#0f0;margin:5px 0;">${postTitle}</h3>
                            <div style="color:#999;font-size:12px;">작성자: <span style="color:yellow;">${postAuthor}</span> | 작성일: 2025-02-28</div>
                        </div>
                        <div style="border-top:1px dashed #0f0;padding-top:10px;">
                            ${postContent.split('\n').map(line => `<p style="margin-bottom:10px;">${line.trim()}</p>`).join('')}
                        </div>
                    </div>
                `;
                
                window.parent.postMessage({
                    action: 'openModal',
                    title: postTitle,
                    content: postView,
                    buttons: [
                        {
                            text: '확인'
                        }
                    ]
                }, '*');
            }
            
            // 게시판 열기
            function openBoard(boardId) {
                const boardNames = {
                    'dev': '개발자 게시판',
                    'design': '디자인 게시판',
                    'marketing': '마케팅 게시판',
                    'startup': '스타트업 게시판',
                    'career': '커리어 상담',
                    'freelance': '프리랜서 게시판',
                    'networking': '네트워킹',
                    'free': '자유 게시판'
                };
                
                const boardName = boardNames[boardId] || '알 수 없는 게시판';
                
                window.parent.postMessage({
                    action: 'notification',
                    text: `${boardName}으로 이동합니다. (기능 개발 중)`,
                    type: 'info'
                }, '*');
            }
            
            // 게시글 검색
            function searchPosts(keyword) {
                window.parent.postMessage({
                    action: 'notification',
                    text: `"${keyword}" 키워드로 검색 중...`,
                    type: 'info'
                }, '*');
                
                // 실제 구현에서는 API 호출을 통해 검색 결과를 가져옴
                // 여기서는 간단한 시뮬레이션만 구현
                
                // 검색어에 따른 결과 필터링
                const allPosts = document.querySelectorAll('.post-item');
                let matchCount = 0;
                
                allPosts.forEach(post => {
                    const title = post.querySelector('.post-title').textContent.toLowerCase();
                    const preview = post.querySelector('.post-preview').textContent.toLowerCase();
                    const author = post.querySelector('.post-author').textContent.toLowerCase();
                    const category = post.querySelector('.post-category').textContent.toLowerCase();
                    
                    if (title.includes(keyword.toLowerCase()) || 
                        preview.includes(keyword.toLowerCase()) ||
                        author.includes(keyword.toLowerCase()) ||
                        category.includes(keyword.toLowerCase())) {
                        post.style.display = 'block';
                        matchCount++;
                    } else {
                        post.style.display = 'none';
                    }
                });
                
                // 검색 결과 알림
                setTimeout(() => {
                    if (matchCount > 0) {
                        window.parent.postMessage({
                            action: 'notification',
                            text: `"${keyword}" 검색 결과: ${matchCount}개의 게시글을 찾았습니다.`,
                            type: 'success'
                        }, '*');
                        
                        // 검색 결과 탭으로 이동
                        document.querySelector('[data-tab="popular"]').click();
                    } else {
                        window.parent.postMessage({
                            action: 'notification',
                            text: `"${keyword}" 검색 결과가 없습니다.`,
                            type: 'error'
                        }, '*');
                    }
                }, 500);
            }
            
            // 명령어 처리
            function processCommand(command) {
                if (!command.trim()) return;
                
                const commandLower = command.toLowerCase().trim();
                
                if (commandLower === '글쓰기' || commandLower === 'write') {
                    openWriteForm();
                } else if (commandLower.startsWith('검색 ') || commandLower.startsWith('search ')) {
                    const keyword = commandLower.split(' ').slice(1).join(' ');
                    searchInput.value = keyword;
                    searchPosts(keyword);
                } else if (commandLower.startsWith('게시판 ') || commandLower.startsWith('board ')) {
                    const boardId = commandLower.split(' ')[1];
                    openBoard(boardId);
                } else if (commandLower === 'help' || commandLower === '도움말') {
                    showHelp();
                } else {
                    window.parent.postMessage({
                        action: 'notification',
                        text: `'${command}' 명령어를 찾을 수 없습니다. 'help'를 입력하여 도움말을 확인하세요.`,
                        type: 'error'
                    }, '*');
                }
            }
            
            function openWriteForm() {
    const writeContent = `
        <div class="form-group">
            <label class="form-label">게시판 선택</label>
            <select class="form-select" id="postBoard">
                <option value="dev">개발자 게시판</option>
                <option value="design">디자인 게시판</option>
                <option value="marketing">마케팅 게시판</option>
                <option value="startup">스타트업 게시판</option>
                <option value="career">커리어 상담</option>
                <option value="freelance">프리랜서 게시판</option>
                <option value="networking">네트워킹</option>
                <option value="qa">Q&A</option>
                <option value="free">자유 게시판</option>
            </select>
        </div>
        <div class="form-group">
            <label class="form-label">제목</label>
            <input type="text" class="form-input" id="postTitle" placeholder="제목을 입력하세요">
        </div>
        <div class="form-group">
            <label class="form-label">내용</label>
            <textarea class="form-textarea" id="postContent" placeholder="내용을 입력하세요" rows="5"></textarea>
        </div>
        <div class="form-group">
            <label class="form-label">태그 (쉼표로 구분)</label>
            <input type="text" class="form-input" id="postTags" placeholder="예: React, 프론트엔드, 개발">
        </div>
    `;

    window.parent.postMessage({
        action: 'openModal',
        title: '새 글 작성',
        content: writeContent,
        buttons: [
            { text: '등록', action: 'submitPost' }, // 직접 함수 전달하지 않음
            { text: '취소', type: 'cancel' }
        ]
    }, '*');
}

// 부모 창에서 메시지 수신 후 처리 (부모 창의 이벤트 핸들러에서 실행)
window.addEventListener('message', function(event) {
    if (event.data.action === 'submitPost') {
        submitPost();
    }
});
            
            // 도움말 표시
            function showHelp() {
                const helpContent = `
                    <div class="message">- <span style="color: yellow;">글쓰기</span>: 새 게시글 작성</div>
                    <div class="message">- <span style="color: yellow;">검색 [키워드]</span>: 게시글 검색</div>
                    <div class="message">- <span style="color: yellow;">게시판 [ID]</span>: 특정 게시판으로 이동 (dev, design, marketing, startup, career, freelance, networking, free)</div>
                    <div class="message">- <span style="color: yellow;">도움말</span>: 이 도움말 표시</div>
                `;
                
                window.parent.postMessage({
                    action: 'openModal',
                    title: '커뮤니티 명령어 도움말',
                    content: helpContent,
                    buttons: [
                        {
                            text: '확인'
                        }
                    ]
                }, '*');
            }
        });
        // 게시글 저장 함수
function submitPost() {
    const board = document.getElementById('postBoard').value;
    const title = document.getElementById('postTitle').value.trim();
    const content = document.getElementById('postContent').value.trim();
    const tags = document.getElementById('postTags').value.trim().split(',');

    if (!title || !content) {
        alert('제목과 내용을 입력해주세요.');
        return;
    }

    const newPost = {
        id: `post${Date.now()}`,
        board,
        title,
        content,
        tags,
        author: '익명',
        date: new Date().toLocaleDateString(),
        views: 0,
        comments: 0
    };

    posts.unshift(newPost);
    updatePostList();

    window.parent.postMessage({
        action: 'notification',
        text: '게시글이 등록되었습니다.',
        type: 'success'
    }, '*');
}
    </script>
</body>
</html>